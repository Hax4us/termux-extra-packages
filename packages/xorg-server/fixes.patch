diff -uNr xorg-server-1.19.1/hw/xfree86/common/compiler.h xorg-server-1.19.1.mod/hw/xfree86/common/compiler.h
--- xorg-server-1.19.1/hw/xfree86/common/compiler.h	2017-01-05 23:19:31.000000000 +0200
+++ xorg-server-1.19.1.mod/hw/xfree86/common/compiler.h	2017-11-24 18:44:44.652683647 +0200
@@ -518,7 +518,7 @@
     barrier();
 }
 
-#elif defined(__mips__) || (defined(__arm32__) && !defined(__linux__))
+#elif defined(__mips__) || (defined(__arm32__) && !defined(__linux__)) || defined(__ANDROID__)
 #if defined(__arm32__) || defined(__mips64)
 #define PORT_SIZE long
 #else
@@ -758,7 +758,7 @@
     return xf86ReadMmio32Le((void *) ioBase, port);
 }
 
-#elif defined(__arm__) && defined(__linux__)
+#elif defined(__arm__) && defined(__linux__) && !defined(__ANDROID__)
 
 /* for Linux on ARM, we use the LIBC inx/outx routines */
 /* note that the appropriate setup via "ioperm" needs to be done */
diff -uNr xorg-server-1.19.1/hw/xfree86/common/xf86Config.c xorg-server-1.19.1.mod/hw/xfree86/common/xf86Config.c
--- xorg-server-1.19.1/hw/xfree86/common/xf86Config.c	2017-01-05 23:19:31.000000000 +0200
+++ xorg-server-1.19.1.mod/hw/xfree86/common/xf86Config.c	2017-11-24 18:44:44.652683647 +0200
@@ -104,7 +104,7 @@
 #define SYS_CONFIGDIRPATH	"%D/X11/%X"
 #endif
 #ifndef PROJECTROOT
-#define PROJECTROOT	"/usr/X11R6"
+#define PROJECTROOT	"/data/data/com.termux/files/usr/X11R6"
 #endif
 
 static ModuleDefault ModuleDefaults[] = {
diff -uNr xorg-server-1.19.1/hw/xfree86/os-support/linux/lnx_acpi.c xorg-server-1.19.1.mod/hw/xfree86/os-support/linux/lnx_acpi.c
--- xorg-server-1.19.1/hw/xfree86/os-support/linux/lnx_acpi.c	2017-01-04 23:27:52.000000000 +0200
+++ xorg-server-1.19.1.mod/hw/xfree86/os-support/linux/lnx_acpi.c	2017-11-24 18:44:44.662683772 +0200
@@ -15,7 +15,7 @@
 #include <fcntl.h>
 #include <errno.h>
 
-#define ACPI_SOCKET  "/var/run/acpid.socket"
+#define ACPI_SOCKET  "/data/data/com.termux/files/usr/var/run/acpid.socket"
 
 #define ACPI_VIDEO_NOTIFY_SWITCH	0x80
 #define ACPI_VIDEO_NOTIFY_PROBE		0x81
diff -uNr xorg-server-1.19.1/hw/xfree86/parser/scan.c xorg-server-1.19.1.mod/hw/xfree86/parser/scan.c
--- xorg-server-1.19.1/hw/xfree86/parser/scan.c	2017-01-04 23:32:10.000000000 +0200
+++ xorg-server-1.19.1.mod/hw/xfree86/parser/scan.c	2017-11-24 18:44:44.662683772 +0200
@@ -552,7 +552,7 @@
 #define XCONFIGSUFFIX	".conf"
 #endif
 #ifndef PROJECTROOT
-#define PROJECTROOT	"/usr/X11R6"
+#define PROJECTROOT	"/data/data/com.termux/files/usr/X11R6"
 #endif
 #ifndef SYSCONFDIR
 #define SYSCONFDIR	PROJECTROOT "/etc"
diff -uNr xorg-server-1.19.1/hw/xquartz/mach-startup/bundle-main.c xorg-server-1.19.1.mod/hw/xquartz/mach-startup/bundle-main.c
--- xorg-server-1.19.1/hw/xquartz/mach-startup/bundle-main.c	2016-07-21 00:18:40.000000000 +0300
+++ xorg-server-1.19.1.mod/hw/xquartz/mach-startup/bundle-main.c	2017-11-24 18:46:02.443657380 +0200
@@ -79,7 +79,7 @@
 
 #define DEFAULT_CLIENT X11BINDIR "/xterm"
 #define DEFAULT_STARTX X11BINDIR "/startx -- " X11BINDIR "/Xquartz"
-#define DEFAULT_SHELL  "/bin/sh"
+#define DEFAULT_SHELL  "/data/data/com.termux/files/usr/bin/sh"
 
 #ifndef BUILD_DATE
 #define BUILD_DATE ""
@@ -534,7 +534,7 @@
     temp = getenv("PATH");
     if (temp == NULL || temp[0] == 0) {
         snprintf(buf, sizeof(buf),
-                 "/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:%s",
+                 "/data/data/com.termux/files/usr/bin:/data/data/com.termux/files/usr/bin/applets:%s",
                  dir);
         setenv("PATH", buf, TRUE);
     }
diff -uNr xorg-server-1.19.1/hw/xwin/InitOutput.c xorg-server-1.19.1.mod/hw/xwin/InitOutput.c
--- xorg-server-1.19.1/hw/xwin/InitOutput.c	2017-01-05 23:19:31.000000000 +0200
+++ xorg-server-1.19.1.mod/hw/xwin/InitOutput.c	2017-11-24 18:44:44.662683772 +0200
@@ -294,7 +294,7 @@
         level = none, curlevel;
     BOOL binary = TRUE;
 
-    mnt = setmntent("/etc/mtab", "r");
+    mnt = setmntent("/data/data/com.termux/files/usr/etc/mtab", "r");
     if (mnt == NULL) {
         ErrorF("setmntent failed");
         return;
@@ -303,7 +303,7 @@
     while ((ent = getmntent(mnt)) != NULL) {
         BOOL sys = (winCheckMntOpt(ent, "user") != NULL);
         BOOL root = (strcmp(ent->mnt_dir, "/") == 0);
-        BOOL tmp = (strcmp(ent->mnt_dir, "/tmp") == 0);
+        BOOL tmp = (strcmp(ent->mnt_dir, "/data/data/com.termux/files/usr/tmp") == 0);
 
         if (sys) {
             if (root)
diff -uNr xorg-server-1.19.1/include/site.h xorg-server-1.19.1.mod/include/site.h
--- xorg-server-1.19.1/include/site.h	2017-01-04 23:28:03.000000000 +0200
+++ xorg-server-1.19.1.mod/include/site.h	2017-11-24 18:44:44.672683897 +0200
@@ -72,7 +72,7 @@
  * DO NOT CHANGE THESE VALUES OR THE DIX IMAKEFILE!
  */
 #ifndef COMPILEDDEFAULTFONTPATH
-#define COMPILEDDEFAULTFONTPATH	"/usr/share/fonts/X11/misc/"
+#define COMPILEDDEFAULTFONTPATH	"/data/data/com.termux/files/usr/share/fonts/X11/misc/"
 #endif
 
 /*
diff -uNr xorg-server-1.19.1/os/access.c xorg-server-1.19.1.mod/os/access.c
--- xorg-server-1.19.1/os/access.c	2017-01-04 23:32:10.000000000 +0200
+++ xorg-server-1.19.1.mod/os/access.c	2017-11-24 18:44:44.672683897 +0200
@@ -961,7 +961,7 @@
 #if defined WIN32 && defined __MINGW32__
 #define ETC_HOST_PREFIX "X"
 #else
-#define ETC_HOST_PREFIX "/etc/X"
+#define ETC_HOST_PREFIX "/data/data/com.termux/files/usr/etc/X"
 #endif
 #define ETC_HOST_SUFFIX ".hosts"
     fnamelen = strlen(ETC_HOST_PREFIX) + strlen(ETC_HOST_SUFFIX) +
diff -uNr xorg-server-1.19.1/os/backtrace.c xorg-server-1.19.1.mod/os/backtrace.c
--- xorg-server-1.19.1/os/backtrace.c	2017-01-04 23:32:10.000000000 +0200
+++ xorg-server-1.19.1.mod/os/backtrace.c	2017-11-24 18:44:44.672683897 +0200
@@ -250,7 +250,7 @@
         closefrom(STDERR_FILENO);
 
         snprintf(parent, sizeof(parent), "%d", getppid());
-        execle("/usr/bin/pstack", "pstack", parent, NULL);
+        execle("/data/data/com.termux/files/usr/bin/pstack", "pstack", parent, NULL);
         exit(1);
     }
     else {
diff -uNr xorg-server-1.19.1/os/connection.c xorg-server-1.19.1.mod/os/connection.c
--- xorg-server-1.19.1/os/connection.c	2017-01-11 22:04:12.000000000 +0200
+++ xorg-server-1.19.1.mod/os/connection.c	2017-11-24 18:44:44.672683897 +0200
@@ -1120,7 +1120,7 @@
     XtransConnInfo ciptr;
     const char *display_env = getenv("DISPLAY");
 
-    if (display_env && (strncmp(display_env, "/tmp/launch", 11) == 0)) {
+    if (display_env && (strncmp(display_env, "/data/data/com.termux/files/usr/tmp/launch", 11) == 0)) {
         /* Make the path the launchd socket if our DISPLAY is set right */
         strcpy(port, display_env);
     }
diff -uNr xorg-server-1.19.1/os/osinit.c xorg-server-1.19.1.mod/os/osinit.c
--- xorg-server-1.19.1/os/osinit.c	2017-01-06 17:03:50.000000000 +0200
+++ xorg-server-1.19.1.mod/os/osinit.c	2017-11-24 18:44:44.672683897 +0200
@@ -71,7 +71,7 @@
 #endif
 
 #ifndef ADMPATH
-#define ADMPATH "/usr/adm/X%smsgs"
+#define ADMPATH "/data/data/com.termux/files/usr/adm/X%smsgs"
 #endif
 
 extern char *display;
diff -uNr xorg-server-1.19.1/os/utils.c xorg-server-1.19.1.mod/os/utils.c
--- xorg-server-1.19.1/os/utils.c	2017-01-06 17:03:50.000000000 +0200
+++ xorg-server-1.19.1.mod/os/utils.c	2017-11-24 18:45:32.573282892 +0200
@@ -239,7 +239,7 @@
  * server at a time.  This keeps the servers from stomping on each other
  * if the user forgets to give them different display numbers.
  */
-#define LOCK_DIR "/tmp"
+#define LOCK_DIR "/data/data/com.termux/files/usr/tmp"
 #define LOCK_TMP_PREFIX "/.tX"
 #define LOCK_PREFIX "/.X"
 #define LOCK_SUFFIX "-lock"
@@ -1392,7 +1392,7 @@
             _exit(127);
         if (setuid(getuid()) == -1)
             _exit(127);
-        execl("/bin/sh", "sh", "-c", command, (char *) NULL);
+        execl("/data/data/com.termux/files/usr/bin/sh", "sh", "-c", command, (char *) NULL);
         _exit(127);
     default:                   /* parent */
         do {
@@ -1478,7 +1478,7 @@
             }
             close(pdes[1]);
         }
-        execl("/bin/sh", "sh", "-c", command, (char *) NULL);
+        execl("/data/data/com.termux/files/usr/bin/sh", "sh", "-c", command, (char *) NULL);
         _exit(127);
     }
 
@@ -1675,7 +1675,7 @@
     else if (getenv("TMP") != NULL)
         return getenv("TMP");
     else
-        return "/tmp";
+        return "/data/data/com.termux/files/usr/tmp";
 }
 
 int
diff -uNr xorg-server-1.19.1/xkb/ddxLoad.c xorg-server-1.19.1.mod/xkb/ddxLoad.c
--- xorg-server-1.19.1/xkb/ddxLoad.c	2017-01-05 23:19:31.000000000 +0200
+++ xorg-server-1.19.1.mod/xkb/ddxLoad.c	2017-11-24 18:44:44.682684022 +0200
@@ -88,8 +88,8 @@
     }
     else
 #endif
-    if (strlen("/tmp/") < size) {
-        (void) strcpy(outdir, "/tmp/");
+    if (strlen("/data/data/com.termux/files/usr/tmp/") < size) {
+        (void) strcpy(outdir, "/data/data/com.termux/files/usr/tmp/");
     }
 }
 
